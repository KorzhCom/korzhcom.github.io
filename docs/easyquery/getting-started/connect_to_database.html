<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>

  <head>
    <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
      <title>Connect to your database </title>
      <meta name="viewport" content="width=device-width">
      <meta name="title" content="Connect to your database ">
    
      <link rel="shortcut icon" href="../../favicon.ico">
      <link rel="stylesheet" href="../../styles/docfx.vendor.css">
      <link rel="stylesheet" href="../../styles/docfx.css">
      <link rel="stylesheet" href="../../styles/main.css">
      <meta property="docfx:navrel" content="../../toc.html">
      <meta property="docfx:tocrel" content="../toc.html">
    
    <meta property="docfx:rel" content="../../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>

        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>

              <a class="navbar-brand" href="../../index.html">
                <img id="logo" class="svg" src="../../images/korzhbw.png" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>

        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">

        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">

        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="connect-to-your-database">Connect to your database</h1>

<p>All our sample projects work with Northwind demo database either via SQL Server or SQLite connection.</p>
<p>Obviously, to test EasyQuery you may want to connect that sample to your own database and try build queries and reports against the data stored there.</p>
<p>There are 2 simple steps to achieve this goal:</p>
<h2 id="step-1-change-the-dbconnection">Step 1. Change the DbConnection</h2>
<p>At first step we just need to change the database connection used by EasyQuery components.</p>
<p>This can be done in EasyQuery's initialization section (it’s inside <code>app.UseEasyQuery(...)</code> call for ASP.NET Core or in <code>ConfigureEasyQueryOptions</code> method of your API controller in ASP.NET projects):</p>
<pre><code>options.ConnectionString = “Your connection string”; //it's better to take it from the configuration
options.UseDbConnection&lt;YourConnectionType&gt;();
</code></pre>
<p>For example, in case of Postgre SQL this piece of code will look like:</p>
<pre><code>options.ConnectionString = Configuration.GetConnectionString(&quot;MyDatabase&quot;);
options.UseDbConnection&lt;NpgsqlConnection&gt;();
</code></pre>
<h2 id="step-2-change-the-data-model">Step 2. Change the data model</h2>
<p>As you probably know, EasyQuery takes all meta-data from a special repository called “data model” (if not, please read <a href="/$aid/34d09e05-f68b-4bbf-8adc-c30473cefe47">$$-How it works-$$</a> and <a href="/$aid/d3296080-f7cd-4e32-b6ea-1e5319948c82">$$-Working with data models in EasyQuery-$$</a> articles first).</p>
<p>In our sample projects we show different approaches of getting a data model. In some scenarios it's loaded from a pre-defined XML file created with Data Model Editor (DME) tool. In others, we get it directly from a DbContext or from database's meta-data. All these scenarios are described in great detail in <a href="/$aid/d3296080-f7cd-4e32-b6ea-1e5319948c82">$$-Working with data models in EasyQuery-$$</a> article.</p>
<p>Whatever way you use you will need to change the model from our sample to your own data model.</p>
<p>So, there are 3 posible options:</p>
<h3 id="option-1-data-model-is-stored-as-xml-or-json-file">Option 1. Data model is stored as XML or JSON file</h3>
<p>In this case you will need:</p>
<ul>
<li><p>To <a href="/$aid/d3296080-f7cd-4e32-b6ea-1e5319948c82">create your own data model</a> using DME</p>
</li>
<li><p>Place the created file to App_Data folder of your project. Let’s name that file MyModel.xml for example.</p>
</li>
<li><p>In ASP.NET (not Core) project you will need to include MyModel.xml into your project and set the “Build action” for that file to “Content” (otherwise it will not be included on project publishing).</p>
</li>
<li><p>Add the following piece of code to EasyQuery initialization section (it’s inside <code>app.UseEasyQuery(...)</code> call for ASP.NET Core or in <code>ConfigureEasyQueryOptions</code> method of your API controller in ASP.NET projects):</p>
</li>
</ul>
<pre><code>options.UseDbModelLoader(_ =&gt; new FileModelLoader(“App_Data”));
</code></pre>
<h3 id="option-2-data-model-is-taken-from-a-dbcontext">Option 2. Data model is taken from a DbContext</h3>
<p>Here you just need to replace the DbContext from our sample with your own DbContext in <code>UseDbContext</code> call.</p>
<p>For ASP.NET Core:</p>
<pre><code>app.UseEasyQuery(options =&gt; {
     .     .     .     .
     options.UseDbContext&lt;YourDbContextClass&gt;();
});
</code></pre>
<p>For ASP.NET:</p>
<pre><code>protected override void ConfigureEasyQueryOptions(EasyQueryOptions options)
{
    .    .    .    .
    var dbContext = new YourDbContextClass();
    options.UseDbContext(dbContext);
}
</code></pre>
<h3 id="option-3-data-model-is-taken-directly-from-db-meta-data">Option 3: Data model is taken directly from DB meta-data</h3>
<p>In this case you just need to setup your DbConnection (see the first step) and use the <code>DbConnectionModelLoader</code> class:</p>
<pre><code>options.ConnectionString = “Your connection string”;
options.UseDbConnection&lt;SqlConnection&gt;();
options.UseDbConnectionModelLoader();
</code></pre>
<blockquote>
<p><strong>NB</strong>: Please note that both <code>UseDbContext</code> and <code>UseDbConnectionModelLoader</code> methods can take an additional parameter (a delegate) that allows you to configure different loader’s options (for example, you can filter some tables).</p>
</blockquote>
<p>So, after finishing this step you will got a working sample project that uses your data model and connects to your database instead the demo DB used in the sample originally.</p>
<h2 id="next-step-copying-the-code-from-sample-to-your-project">Next step: copying the code from sample to your project</h2>
<p>If you are satisifed of how the sample project works with your data you can copy the code and views that provide EasyQuery functionality to your own solution.</p>
<p>Here is <a href="/$aid/eqdn-pj76w6phdwfg">an article that describe how to do it</a></p>
</article>
          </div>

          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>

      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
      
      <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>

    <script type="text/javascript" src="../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
  </body>
</html>
